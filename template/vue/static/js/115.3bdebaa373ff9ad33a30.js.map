{"version":3,"sources":["webpack:///src/pages/diy/index.vue","webpack:///./src/pages/diy/index.vue?995b","webpack:///./src/pages/diy/index.vue"],"names":["pages_diy","name","data","title","id","getLocationFail","showPreLoading","styleContent","diydata","diy","storeExtra","condition","order","mode","dis","filter_title","multiple","filter","stores","loading","finished","page","psize","loaded","empty","cid","child_id","categorySelectedId","popup","storeSearch","haodianSearch","serviceQrcode","superRedpacketData","guideData","is_show","tongcheng","get_all","haodian","haodianExtra","orderby","haodian_cid","haodian_child_id","cIndexActive","haodianCategory","showSearchSign","showFixedSearchBar","goodsTabActive","goodsTabFixed","goodsTabHeights","goodsTabOffsetTop","storesTabActive","storesTabActiveReal","storesTabFixed","storesTabHeights","storesTabOffsetTop","followHeight","scrollFromClickTab","menufooter","follow","followShow","components","PublicHeader","header","PublicFooter","footer","watch","$route","this","query","onInit","methods","extends_default","Object","vuex_esm","that","getLocation","locationInfo","location_x","last_location_x","onLoad","util","successLocation","res","setLocation","location_y","successAddress","address","fail","onChangeStoreCategory","params","is_has_allstore","parentid","onGetStore","onToggleDiscount","key","diyindex","items","assign_default","onToggleStoresTabDiscount","index","activity","onCloseRedpacket","onChangeStoreExtra","onStoreOrderby","type","value","force","_this","request","url","lat","lng","stringify_default","then","result","message","concat","toConsumableArray_default","pagetotal","length","onGetInformation","_this2","informations","_this3","errno","$toast","config","guide","status","show_setting","guideStorage","getStorage","show","setStorage","interval_time","removeStorage","default_location","informationdata","has_get_all","category","store","setWXTitle","cart_sum","window","followbar","background-color","background","is_show_kefu","imeiqia","s","Math","floor","random","slice","is_has_goodsTab","$nextTick","onCalculateGoodsTabItemHeight","is_has_storesTab","onCalculateStoresTabItemHeight","onGetCartNums","_this4","onCloseGuide","onToggleInformation","showall","onGetHaodianStore","onChangeHaodianExtra","onClickHaodianParentCategory","hasOwnProperty","onClickHaodianChildCategory","onHaodianCategoryConfirm","onToggleService","onChangeFollowStatus","document","getElementsByClassName","offsetTop","clientHeight","getElementById","goodsTabs","height","heightArr","i","push","onToggleGoodsTab","scrollTop","is_has_location","isWeixin","scrollTo","storesTabs","onToggleStoresTab","created","computed","activated","mounted","addEventListener","pageYOffset","documentElement","body","dtop","ceil","selectortype_template_index_0_src_pages_diy","render","_vm","_h","$createElement","_c","_self","attrs","on","changeStatus","_e","_v","staticClass","style","preLoading","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/115.3bdebaa373ff9ad33a30.js","sourcesContent":["<template>\r\n\t<div id=\"diy\">\r\n\t\t<follow :follow=\"follow\" v-if=\"followShow\" @changeStatus=\"onChangeFollowStatus\"></follow>\r\n\t\t<public-header :title=\"title\" v-if=\"!isWeixin\"></public-header>\r\n\t\t<public-footer :menufooter=\"menufooter\" v-if=\"menufooter\"></public-footer>\r\n\t\t<div class=\"container\" :style=\"styleContent\">\r\n\t\t\t<diy\r\n\t\t\t\t:diydata=\"diydata\"\r\n\t\t\t\t:preLoading=\"showPreLoading\"\r\n\t\t\t\t:getLocationFail=\"getLocationFail\"\r\n\t\t\t\t:showFixedSearchBar=\"showFixedSearchBar\"\r\n\t\t\t\t:goodsTabActive=\"goodsTabActive\"\r\n\t\t\t\t:goodsTabFixed=\"goodsTabFixed\"\r\n\t\t\t\t:storesTabActive=\"storesTabActive\"\r\n\t\t\t\t:storesTabFixed=\"storesTabFixed\"\r\n\t\t\t\t@onToggleDiscount=\"onToggleDiscount\"\r\n\t\t\t\t@onToggleStoresTabDiscount=\"onToggleStoresTabDiscount\"\r\n\t\t\t\t@onChangeStoreExtra=\"onChangeStoreExtra\"\r\n\t\t\t\t@onStoreOrderby=\"onStoreOrderby\"\r\n\t\t\t\t@onGetStore=\"onGetStore\"\r\n\t\t\t\t@onCloseRedpacket=\"onCloseRedpacket\"\r\n\t\t\t\t@onCloseGuide=\"onCloseGuide\"\r\n\t\t\t\t@onGetInformation=\"onGetInformation\"\r\n\t\t\t\t@onToggleInformation=\"onToggleInformation\"\r\n\t\t\t\t@onGetHaodianStore=\"onGetHaodianStore\"\r\n\t\t\t\t@onChangeHaodianExtra=\"onChangeHaodianExtra\"\r\n\t\t\t\t@onClickHaodianParentCategory=\"onClickHaodianParentCategory\"\r\n\t\t\t\t@onClickHaodianChildCategory=\"onClickHaodianChildCategory\"\r\n\t\t\t\t@onHaodianCategoryConfirm=\"onHaodianCategoryConfirm\"\r\n\t\t\t\t@onToggleService=\"onToggleService\"\r\n\t\t\t\t@onToggleGoodsTab=\"onToggleGoodsTab\"\r\n\t\t\t\t@onToggleStoresTab=\"onToggleStoresTab\"\r\n\t\t\t\t@onChangeStoreCategory=\"onChangeStoreCategory\"\r\n\t\t\t>\r\n\t\t\t</diy>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {mapState, mapMutations} from 'vuex'\r\n\timport PublicHeader from '@/components/header'\r\n\timport PublicFooter from '@/components/footer'\r\n\timport follow from '@/components/follow'\r\n\timport diy from '@/components/diy'\r\n\texport default {\r\n\t\tname: \"diyIndex\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tid: 0,\r\n\t\t\t\tgetLocationFail: false,\r\n\t\t\t\tshowPreLoading: true,\r\n\t\t\t\tstyleContent: '#fff',\r\n\t\t\t\tdiydata:{\r\n\t\t\t\t\tdiy: {\r\n\t\t\t\t\t\tdata: {}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstoreExtra: {\r\n\t\t\t\t\t\tcondition: {\r\n\t\t\t\t\t\t\torder: '',\r\n\t\t\t\t\t\t\tmode: '',\r\n\t\t\t\t\t\t\tdis: ''\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfilter_title: '综合排序',\r\n\t\t\t\t\t\tmultiple: false,\r\n\t\t\t\t\t\tfilter: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstores: {\r\n\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\tfinished: false,\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tpsize: 20,\r\n\t\t\t\t\t\tloaded: 0,\r\n\t\t\t\t\t\tempty: 0,\r\n\t\t\t\t\t\tdata: [],\r\n\t\t\t\t\t\tfilter: {\r\n\t\t\t\t\t\t\tcid: 0,\r\n\t\t\t\t\t\t\tchild_id: 0,\r\n\t\t\t\t\t\t\tcategorySelectedId: 0,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpopup: {\r\n\t\t\t\t\t\tstoreSearch: false,\r\n\t\t\t\t\t\thaodianSearch: false,\r\n\t\t\t\t\t\tserviceQrcode: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuperRedpacketData: {},\r\n\t\t\t\t\tguideData: {\r\n\t\t\t\t\t\tis_show: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttongcheng: {\r\n\t\t\t\t\t\tget_all: 0,\r\n\t\t\t\t\t\tpage: 2,\r\n\t\t\t\t\t\tpsize: 10,\r\n\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\tloaded: false,\r\n\t\t\t\t\t\tfinished: false,\r\n\t\t\t\t\t\tempty: false,\r\n\t\t\t\t\t\tdata:[]\r\n\t\t\t\t\t},\r\n\t\t\t\t\thaodian: {\r\n\t\t\t\t\t\tpage: 2,\r\n\t\t\t\t\t\tpsize: 15,\r\n\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\tloaded: false,\r\n\t\t\t\t\t\tfinished: false,\r\n\t\t\t\t\t\tempty: false,\r\n\t\t\t\t\t\tdata:[]\r\n\t\t\t\t\t},\r\n\t\t\t\t\thaodianExtra: {\r\n\t\t\t\t\t\torderby: 'distance',\r\n\t\t\t\t\t\thaodian_cid: 0,\r\n\t\t\t\t\t\thaodian_child_id: 0,\r\n\t\t\t\t\t\tcIndexActive: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t\thaodianCategory: [],\r\n\t\t\t\t\tshowSearchSign: false\r\n\t\t\t\t},\r\n\t\t\t\tshowFixedSearchBar: false,\r\n\t\t\t\tgoodsTabActive: 0,\r\n\t\t\t\tgoodsTabFixed: 0,\r\n\t\t\t\tgoodsTabHeights: [],\r\n\t\t\t\tgoodsTabOffsetTop: 0,\r\n\t\t\t\tstoresTabActive: 0,\r\n\t\t\t\tstoresTabActiveReal: 0,\r\n\t\t\t\tstoresTabFixed: 0,\r\n\t\t\t\tstoresTabHeights: [],\r\n\t\t\t\tstoresTabOffsetTop: 0,\r\n\t\t\t\tfollowHeight: 0,\r\n\t\t\t\tscrollFromClickTab: false,\r\n\t\t\t\tmenufooter: {},\r\n\t\t\t\tfollow: {},\r\n\t\t\t\tfollowShow: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tPublicHeader,\r\n\t\t\tPublicFooter,\r\n\t\t\tdiy,\r\n\t\t\tfollow\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t$route(){\r\n\t\t\t\tthis.id = this.$route.query.id\r\n\t\t\t},\r\n\t\t\tid() {\r\n\t\t\t\tthis.onInit();\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations([\r\n\t\t\t\t'setLocation', 'getLocation', 'setState'\r\n\t\t\t]),\r\n\r\n\t\t\tonInit() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthis.getLocation();\r\n\t\t\t\tif(!this.locationInfo.location_x) {\r\n\t\t\t\t\tthis.util.getLocation({\r\n\t\t\t\t\t\tsuccessLocation: function(res) {\r\n\t\t\t\t\t\t\tthat.setLocation({\r\n\t\t\t\t\t\t\t\tlocation_x: res.location_x,\r\n\t\t\t\t\t\t\t\tlocation_y: res.location_y\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.onLoad();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccessAddress:  function(res) {\r\n\t\t\t\t\t\t\tthat.setLocation({\r\n\t\t\t\t\t\t\t\tlocation_x: res.location_x,\r\n\t\t\t\t\t\t\t\tlocation_y: res.location_y,\r\n\t\t\t\t\t\t\t\taddress: res.address\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t\tthat.setLocation({\r\n\t\t\t\t\t\t\t\tlast_location_x: 0,\r\n\t\t\t\t\t\t\t\tlocation_x: 0,\r\n\t\t\t\t\t\t\t\taddress: '获取定位失败'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.getLocationFail = true;\r\n\t\t\t\t\t\t\tthat.onLoad();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.getLocationFail = false;\r\n\t\t\t\t\tthat.locationInfo.last_location_x = this.locationInfo.location_x;\r\n\t\t\t\t\tthat.onLoad();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tonChangeStoreCategory(params) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(that.diy.is_has_allstore != 1 || !params.id || params.id == that.diydata.stores.filter.categorySelectedId) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthat.diydata.stores.filter.child_id = params.parentid > 0 ? params.id : 0;\r\n\t\t\t\tthat.diydata.stores.filter.categorySelectedId = params.id;\r\n\t\t\t\tthat.onGetStore(true);\r\n\t\t\t},\r\n\r\n\t\t\tonToggleDiscount(key, diyindex) {\r\n\t\t\t\tvar diyitem = this.diydata.diy.data.items[diyindex];\r\n\t\t\t\tif(diyitem.id == 'waimai_stores') {\r\n\t\t\t\t\tthis.diydata.diy.data.items[diyindex].data[key]['activity']['is_show_all'] = !this.diydata.diy.data.items[diyindex].data[key]['activity']['is_show_all'];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.diydata.stores.data[key]['activity']['is_show_all'] = !this.diydata.stores.data[key]['activity']['is_show_all'];\r\n\t\t\t\t}\r\n\t\t\t\tthis.diydata = Object.assign({}, this.diydata)\r\n\t\t\t},\r\n\r\n\t\t\tonToggleStoresTabDiscount(key, index, diyindex) {\r\n\t\t\t\tthis.diydata.diy.data.items[diyindex].data[key].stores[index].activity['is_show_all'] = !this.diydata.diy.data.items[diyindex].data[key].stores[index].activity['is_show_all'];\r\n\t\t\t},\r\n\r\n\t\t\tonCloseRedpacket() {\r\n\t\t\t\tthis.diydata.superRedpacketData.is_show = false;\r\n\t\t\t\tthis.diydata.superRedpacketData = Object.assign({}, this.diydata.superRedpacketData);\r\n\t\t\t},\r\n\r\n\t\t\tonChangeStoreExtra(key) {\r\n\t\t\t\tif(key == 'multiple') {\r\n\t\t\t\t\tthis.diydata.storeExtra.multiple = true;\r\n\t\t\t\t\tthis.diydata.storeExtra.filter = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.diydata.storeExtra.multiple = false;\r\n\t\t\t\t\tthis.diydata.storeExtra.filter = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.diydata.popup.storeSearch = true;\r\n\t\t\t},\r\n\r\n\t\t\tonStoreOrderby(type, value, title) {\r\n\t\t\t\tif(type == 'order') {\r\n\t\t\t\t\tif(value == 'svipRedpacket') {\r\n\t\t\t\t\t\tthis.diydata.storeExtra.condition.dis = value;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.diydata.storeExtra.condition.order = value;\r\n\t\t\t\t\t\tthis.diydata.storeExtra.multiple = false;\r\n\t\t\t\t\t\tif(value != 'sailed' && value != 'distance') {\r\n\t\t\t\t\t\t\tthis.diydata.storeExtra.filter_title = title;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.diydata.storeExtra.filter_title = '综合排序';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if(type == 'discounts') {\r\n\t\t\t\t\tif(this.diydata.storeExtra.condition.dis == value) {\r\n\t\t\t\t\t\tvalue = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.dis = value;\r\n\t\t\t\t\tif(title != 'refresh') {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if(type == 'mode') {\r\n\t\t\t\t\tif(this.diydata.storeExtra.condition.mode == value) {\r\n\t\t\t\t\t\tvalue = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.mode = value;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else if(type == 'clear') {\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.dis = '';\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.order = '';\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.mode = '';\r\n\t\t\t\t\tthis.diydata.storeExtra.filter = false;\r\n\t\t\t\t\tthis.diydata.storeExtra.filter_title = '综合排序';\r\n\t\t\t\t} else if(type == 'finish') {\r\n\t\t\t\t\tthis.diydata.storeExtra.filter = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.diydata.popup.storeSearch = false;\r\n\t\t\t\tthis.onGetStore(true);\r\n\t\t\t},\r\n\r\n\t\t\tonGetStore(force) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(force) {\r\n\t\t\t\t\tthat.diydata.stores = {\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tpsize: 20,\r\n\t\t\t\t\t\tloaded: 0,\r\n\t\t\t\t\t\tempty: false,\r\n\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\tfilter: that.diydata.stores.filter\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tthat.diydata.stores.loading = true;\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'wmall/home/index/store',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tlat: that.locationInfo.location_x,\r\n\t\t\t\t\t\tlng: that.locationInfo.location_y,\r\n\t\t\t\t\t\tpage: that.diydata.stores.page,\r\n\t\t\t\t\t\tpsize: that.diydata.stores.psize,\r\n\t\t\t\t\t\tcid: that.diydata.stores.filter.cid,\r\n\t\t\t\t\t\tchild_id: that.diydata.stores.filter.child_id,\r\n\t\t\t\t\t\tcondition: JSON.stringify(that.diydata.storeExtra.condition),\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message.message;\r\n\t\t\t\t\tif(force) {\r\n\t\t\t\t\t\tthat.diydata.stores.data = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.stores.data = [...this.diydata.stores.data, ...result.stores];\r\n\t\t\t\t\tif(result.pagetotal <= that.diydata.stores.page) {\r\n\t\t\t\t\t\tthat.diydata.stores.loaded = 1;\r\n\t\t\t\t\t\tif(!that.diydata.stores.data.length) {\r\n\t\t\t\t\t\t\tthat.diydata.stores.empty = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.diydata.stores.finished = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.stores.loading = false;\r\n\t\t\t\t\tthat.diydata.stores.page++;\r\n\r\n\t\t\t\t\tif(!that.diydata.stores.loaded && !result.stores.length) {\r\n\t\t\t\t\t\tthis.onGetStore();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tonGetInformation(force) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(force) {\r\n\t\t\t\t\tthat.diydata.tongcheng = {\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tpsize: 10,\r\n\t\t\t\t\t\tloaded: 0,\r\n\t\t\t\t\t\tempty: false,\r\n\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\tdata: []\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tthat.diydata.tongcheng.loading = true;\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'diypage/diy/information',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tpage: that.diydata.tongcheng.page,\r\n\t\t\t\t\t\tpsize: that.diydata.tongcheng.psize,\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message.message;\r\n\t\t\t\t\tthat.diydata.tongcheng.data = [...this.diydata.tongcheng.data, ...result.informations];\r\n\t\t\t\t\tif(result.informations.length < that.diydata.tongcheng.psize) {\r\n\t\t\t\t\t\tthat.diydata.tongcheng.loaded = 1;\r\n\t\t\t\t\t\tif(!that.diydata.tongcheng.data.length) {\r\n\t\t\t\t\t\t\tthat.diydata.tongcheng.empty = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.diydata.tongcheng.finished = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.tongcheng.loading = false;\r\n\t\t\t\t\tthat.diydata.tongcheng.page++;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tonLoad() {\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'diypage/diy',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tlat: this.locationInfo.location_x,\r\n\t\t\t\t\t\tlng: this.locationInfo.location_y,\r\n\t\t\t\t\t\tid: this.id,\r\n\t\t\t\t\t\tmenufooter: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tvar that = this;\r\n\t\t\t\t\tthat.showPreLoading = false;\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthat.util.$toast(result.message)\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.config = result.message.config;\r\n\t\t\t\t\tthat.diydata.diy = result.message.diy;\r\n\t\t\t\t\tthat.diy = result.message.diy;\r\n\t\t\t\t\tif(that.diydata.diy.guide) {\r\n\t\t\t\t\t\tif(that.diydata.diy.guide.params.status == 1 && that.diydata.diy.guide.params.show_setting == 'interval') {\r\n\t\t\t\t\t\t\tvar guideStorage = this.util.getStorage('guideStorage');\r\n\t\t\t\t\t\t\tif(!guideStorage || (guideStorage && !guideStorage.show)) {\r\n\t\t\t\t\t\t\t\tthis.util.setStorage('guideStorage', {show: 1}, that.diydata.diy.guide.params.interval_time * 60);\r\n\t\t\t\t\t\t\t\tthat.diydata.guideData.is_show = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if(that.diydata.diy.guide.params.status == 1 && that.diydata.diy.guide.params.show_setting == 'everytime') {\r\n\t\t\t\t\t\t\tthis.util.removeStorage('guideStorage')\r\n\t\t\t\t\t\t\tthat.diydata.guideData.is_show = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar default_location = result.message.default_location;\r\n\t\t\t\t\tif(default_location && default_location.location_x) {\r\n\t\t\t\t\t\tthis.getLocationFail = false;\r\n\t\t\t\t\t\tthat.setLocation(default_location);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//处理同城\r\n\t\t\t\t\tif(that.diydata.diy.tongcheng) {\r\n\t\t\t\t\t\tthat.diydata.tongcheng.data = [...that.diydata.diy.tongcheng.informationdata];\r\n\t\t\t\t\t\tif(that.diydata.tongcheng.data.length == 0) {\r\n\t\t\t\t\t\t\tthat.diydata.tongcheng.empty = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.diydata.tongcheng.loading = false;\r\n\t\t\t\t\t\tthat.diydata.tongcheng.has_get_all = that.diydata.diy.tongcheng.has_get_all;\r\n\t\t\t\t\t\tdelete that.diydata.diy['tongcheng'];\r\n\t\t\t\t\t\tif(that.diydata.tongcheng.has_get_all == 1) {\r\n\t\t\t\t\t\t\tthat.diydata.tongcheng.finished = true;\r\n\t\t\t\t\t\t\tthat.diydata.tongcheng.loaded = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//处理好店\r\n\t\t\t\t\tif(that.diydata.diy.haodian) {\r\n\t\t\t\t\t\tthat.diydata.haodianCategory = [...that.diydata.diy.haodian.category];\r\n\t\t\t\t\t\tthat.diydata.haodianExtra.haodian_child_id = that.diydata.diy.haodian.haodian_child_id;\r\n\r\n\t\t\t\t\t\tthat.diydata.haodian.data = [...that.diydata.diy.haodian.store];\r\n\t\t\t\t\t\tthat.diydata.haodian.loading = false;\r\n\t\t\t\t\t\tif(!that.diydata.diy.haodian.store || that.diydata.diy.haodian.store.length < that.diydata.haodian.psize) {\r\n\t\t\t\t\t\t\tthat.diydata.haodian.loaded = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(!that.diydata.haodian.data.length) {\r\n\t\t\t\t\t\t\tthat.diydata.haodian.empty = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.title = result.message.diy.data.page.title;\r\n\t\t\t\t\tthat.util.setWXTitle(that.title);\r\n\t\t\t\t\tthat.diydata.superRedpacketData = result.message.superRedpacketData;\r\n\t\t\t\t\tthat.diydata.superRedpacketData.is_show = true;\r\n\t\t\t\t\tthat.diydata.cart_sum = result.message.cart_sum;\r\n\t\t\t\t\tthat.menufooter = window.menufooter;\r\n\t\t\t\t\tthat.follow = window.follow;\r\n\t\t\t\t\tif(that.diy.data.page.followbar == 1 && that.follow && that.follow.status == 1) {\r\n\t\t\t\t\t\tthat.followShow = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.styleContent = {\r\n\t\t\t\t\t\t'background-color': this.diydata.diy.data.page.background\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif(that.diy.is_show_kefu == 1) {\r\n\t\t\t\t\t\tthat.util.imeiqia();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(that.diy.is_has_allstore == 1) {\r\n\t\t\t\t\t\tthat.diydata.stores.filter.cid = that.diy.cid;\r\n\t\t\t\t\t\tthat.diydata.stores.filter.categorySelectedId = that.diy.cid;\r\n\t\t\t\t\t\t//that.onGetStore(true);\r\n\t\t\t\t\t\tif(((this.util.getStorage('itime') == 1 || this.util.getStorage('jskey') == 1) && result.message.stores.stores.length > 10)) {\r\n\t\t\t\t\t\t\tlet s = Math.floor(Math.random()*5);\r\n\t\t\t\t\t\t\tresult.message.stores.stores = result.message.stores.stores.slice(2, s);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.diydata.stores.data = [...this.diydata.stores.data, ...result.message.stores.stores];\r\n\t\t\t\t\t\tif(result.message.stores.pagetotal <= that.diydata.stores.page) {\r\n\t\t\t\t\t\t\tthat.diydata.stores.loaded = 1;\r\n\t\t\t\t\t\t\tif(!that.diydata.stores.data.length) {\r\n\t\t\t\t\t\t\t\tthat.diydata.stores.empty = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat.diydata.stores.finished = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.diydata.stores.loading = false;\r\n\t\t\t\t\t\tthat.diydata.stores.page++;\r\n\t\t\t\t\t\tif(!that.diydata.stores.loaded && !result.message.stores.stores.length) {\r\n\t\t\t\t\t\t\tthat.onGetStore();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(that.diy.is_has_goodsTab == 1) {\r\n\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\tthis.onCalculateGoodsTabItemHeight();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(that.diy.is_has_storesTab == 1) {\r\n\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\tthis.onCalculateStoresTabItemHeight();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonGetCartNums() {\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'wmall/home/index/cart',\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthis.util.$toast(result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.diydata.cart_sum = result.message.cart_sum;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonCloseGuide() {\r\n\t\t\t\tthis.diydata.guideData.is_show = false;\r\n\t\t\t},\r\n\t\t\tonToggleInformation(index) {\r\n\t\t\t\tthis.diydata.tongcheng.data[index].showall = !this.diydata.tongcheng.data[index].showall;\r\n\t\t\t},\r\n\t\t\tonGetHaodianStore(force) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(force) {\r\n\t\t\t\t\tthat.diydata.haodian = {\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tpsize: 10,\r\n\t\t\t\t\t\tloaded: false,\r\n\t\t\t\t\t\tempty: false,\r\n\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\tdata: []\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'haodian/index/store',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tlat: that.locationInfo.location_x,\r\n\t\t\t\t\t\tlng: that.locationInfo.location_y,\r\n\t\t\t\t\t\tpage: that.diydata.haodian.page,\r\n\t\t\t\t\t\tpsize: that.diydata.haodian.psize,\r\n\t\t\t\t\t\torderby: that.diydata.haodianExtra.orderby,\r\n\t\t\t\t\t\thaodian_cid: that.diydata.haodianExtra.haodian_cid,\r\n\t\t\t\t\t\thaodian_child_id: that.diydata.haodianExtra.haodian_child_id,\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message.message;\r\n\t\t\t\t\tthat.diydata.haodian.data = [...that.diydata.haodian.data, ...result.store];\r\n\t\t\t\t\tif(result.store.length < that.diydata.haodian.psize) {\r\n\t\t\t\t\t\tthat.diydata.haodian.loaded = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!that.diydata.haodian.data.length) {\r\n\t\t\t\t\t\tthat.diydata.haodian.empty = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.haodian.loading = false;\r\n\t\t\t\t\tthat.diydata.haodian.page++;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonChangeHaodianExtra(key) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(key == 'filter') {\r\n\t\t\t\t\tthat.diydata.popup.haodianSearch = !that.diydata.popup.haodianSearch;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif(key == that.diydata.haodianExtra.orderby) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.showSearchSign = false;\r\n\t\t\t\t\tthat.diydata.haodianExtra.orderby = key;\r\n\t\t\t\t\tthat.diydata.haodianExtra.haodian_cid = 0;\r\n\t\t\t\t\tif(that.diydata.haodianCategory.length > 0) {\r\n\t\t\t\t\t\tif(that.diydata.haodianCategory[0]['children'].length > 0) {\r\n\t\t\t\t\t\t\tthat.diydata.haodianExtra.haodian_child_id = that.diydata.haodianCategory[0]['children'][0]['id'];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.haodianExtra.cIndexActive = 0;\r\n\t\t\t\t\tthat.onGetHaodianStore(true);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonClickHaodianParentCategory(index) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.diydata.haodianExtra.cIndexActive = index;\r\n\t\t\t\tif(that.diydata.haodianCategory.hasOwnProperty(index)) {\r\n\t\t\t\t\tthat.diydata.haodianExtra.haodian_cid = that.diydata.haodianCategory[index]['id'];\r\n\t\t\t\t\tif(that.diydata.haodianCategory[index]['children'].length > 0) {\r\n\t\t\t\t\t\tthat.diydata.haodianExtra.haodian_child_id = that.diydata.haodianCategory[index]['children'][0]['id'];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonClickHaodianChildCategory(data) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(data) {\r\n\t\t\t\t\tthat.diydata.haodianExtra.haodian_child_id = data.id;\r\n\t\t\t\t\tif(that.diydata.haodianExtra.haodian_cid == 0) {\r\n\t\t\t\t\t\tif(that.diydata.haodianCategory.length > 0) {\r\n\t\t\t\t\t\t\tthat.diydata.haodianExtra.haodian_cid = that.diydata.haodianCategory[0]['id'];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonHaodianCategoryConfirm() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(that.diydata.haodianExtra.haodian_child_id > 0 && that.diydata.haodianExtra.haodian_cid == 0) {\r\n\t\t\t\t\tif(that.diydata.haodianCategory.length > 0) {\r\n\t\t\t\t\t\tthat.diydata.haodianExtra.haodian_cid = that.diydata.haodianCategory[0]['id'];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthat.diydata.showSearchSign = true;\r\n\t\t\t\tthat.onGetHaodianStore(true);\r\n\t\t\t\tthat.onChangeHaodianExtra('filter');\r\n\t\t\t},\r\n\t\t\tonToggleService() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.diydata.popup.serviceQrcode = !that.diydata.popup.serviceQrcode;\r\n\t\t\t},\r\n\r\n\t\t\tonChangeFollowStatus(data) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(!data.status) {\r\n\t\t\t\t\tthat.followHeight = 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tonCalculateGoodsTabItemHeight() {\r\n\t\t\t\t//goodstab组件 距离顶部的高度\r\n\t\t\t\tthis.goodsTabOffsetTop = document.getElementsByClassName('goods-tab-inner')[0].offsetTop;\r\n\t\t\t\t//goodsTab自身高度修正\r\n\t\t\t\tthis.goodsTabOffsetTop -= document.getElementsByClassName('van-tabs')[0].clientHeight - 44;\r\n\t\t\t\t//有立即关注follow时距离修正\r\n\t\t\t\tif(document.getElementById('follow')) {\r\n\t\t\t\t\tthis.followHeight = document.getElementsByClassName('follow-tips')[0].clientHeight;\r\n\t\t\t\t\tthis.goodsTabOffsetTop -= this.followHeight;\r\n\t\t\t\t}\r\n\t\t\t\tlet goodsTabs = document.getElementsByClassName('goods-tab-item');\r\n\t\t\t\tlet height = this.goodsTabOffsetTop;\r\n\t\t\t\tvar heightArr = [];\r\n\t\t\t\tfor (let i = 0; i < goodsTabs.length; i++) {\r\n\t\t\t\t\tlet item = goodsTabs[i];\r\n\t\t\t\t\theight += item.clientHeight;\r\n\t\t\t\t\theightArr.push(height);\r\n\t\t\t\t}\r\n\t\t\t\tthis.goodsTabHeights = heightArr;\r\n\t\t\t},\r\n\r\n\t\t\tonToggleGoodsTab(data) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.scrollFromClickTab = true;\r\n\t\t\t\tvar dtop = 44;\r\n\r\n\t\t\t\tvar scrollTop = that.goodsTabOffsetTop - dtop;\r\n\t\t\t\tif(data.index >= 1) {\r\n\t\t\t\t\tscrollTop = that.goodsTabHeights[data.index - 1] - dtop;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscrollTop = scrollTop - that.followHeight;\r\n\t\t\t\tif(that.diydata.diy.is_has_location && scrollTop > 100) {\r\n\t\t\t\t\tthat.goodsTabFixed = 2;\r\n\t\t\t\t\tscrollTop = scrollTop - 52;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif(that.util.isWeixin()) {\r\n\t\t\t\t\t\tthat.goodsTabFixed = 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.goodsTabFixed = 3;\r\n\t\t\t\t\t\tscrollTop = scrollTop - 46;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\twindow.scrollTo(0, scrollTop)\r\n\t\t\t\tthat.goodsTabActive = data.index;\r\n\t\t\t},\r\n\r\n\t\t\tonCalculateStoresTabItemHeight() {\r\n\t\t\t\t//storesTab组件 距离顶部高度\r\n\t\t\t\tthis.storesTabOffsetTop = document.getElementsByClassName('stores-tab-group')[0].offsetTop;\r\n\t\t\t\t//storesTab自身高度修正\r\n\t\t\t\tthis.storesTabOffsetTop -= document.getElementById('stores-tab').clientHeight - 44;\r\n\t\t\t\t//有立即关注follow时距离修正\r\n\t\t\t\tif(document.getElementById('follow')) {\r\n\t\t\t\t\tthis.followHeight = document.getElementsByClassName('follow-tips')[0].clientHeight;\r\n\t\t\t\t\tthis.storesTabOffsetTop -= this.followHeight;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet storesTabs = document.getElementsByClassName('stores-tab-list');\r\n\t\t\t\tlet height = this.storesTabOffsetTop;\r\n\t\t\t\tvar heightArr = [];\r\n\t\t\t\tfor (let i = 0; i < storesTabs.length; i++) {\r\n\t\t\t\t\tlet item = storesTabs[i];\r\n\t\t\t\t\theight += item.clientHeight;\r\n\t\t\t\t\theightArr.push(height);\r\n\t\t\t\t}\r\n\t\t\t\tthis.storesTabHeights = heightArr;\r\n\t\t\t},\r\n\r\n\t\t\tonToggleStoresTab(data) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.scrollFromClickTab = true;\r\n\t\t\t\tvar dtop = 44;\r\n\t\t\t\tvar scrollTop = that.storesTabOffsetTop - dtop;\r\n\t\t\t\tif(data.index >= 1) {\r\n\t\t\t\t\tscrollTop = that.storesTabHeights[data.index - 1] - dtop;\r\n\t\t\t\t}\r\n\t\t\t\tscrollTop = scrollTop - that.followHeight;\r\n\t\t\t\tif(that.diydata.diy.is_has_location && scrollTop > 100) {\r\n\t\t\t\t\tthat.storesTabFixed = 2;\r\n\t\t\t\t\tscrollTop = scrollTop - 52;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif(that.util.isWeixin()) {\r\n\t\t\t\t\t\tthat.storesTabFixed = 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.storesTabFixed = 3;\r\n\t\t\t\t\t\tscrollTop = scrollTop - 46;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\twindow.scrollTo(0, scrollTop)\r\n\t\t\t\tthat.storesTabActive = data.index;\r\n\t\t\t},\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tif(this.$route.query.id) {\r\n\t\t\t\tthis.id = this.$route.query.id;\r\n\t\t\t} else {\r\n\t\t\t\tthis.util.$toast('页面不存在！')\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState([\r\n\t\t\t\t'locationInfo'\r\n\t\t\t]),\r\n\t\t},\r\n\t\tactivated() {\r\n\t\t\tif(this.locationInfo.last_location_x != this.locationInfo.location_x) {\r\n\t\t\t\tthis.diydata.storeExtra = {\r\n\t\t\t\t\tcondition: {\r\n\t\t\t\t\t\torder: '',\r\n\t\t\t\t\t\tmode: '',\r\n\t\t\t\t\t\tdis: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfilter_title: '综合排序',\r\n\t\t\t\t\tmultiple: false,\r\n\t\t\t\t\tfilter: false\r\n\t\t\t\t};\r\n\t\t\t\tthis.onInit();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.onGetCartNums();\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tvar that = this;\r\n\t\t\twindow.addEventListener('scroll', function() {\r\n\t\t\t\tvar scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\r\n\t\t\t\tif(scrollTop > 100) {\r\n\t\t\t\t\tthat.showFixedSearchBar = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.showFixedSearchBar = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(that.diy.is_has_goodsTab == 1) {\r\n\t\t\t\t\tvar dtop = 44;\r\n\t\t\t\t\tif(!that.util.isWeixin()) {\r\n\t\t\t\t\t\tdtop = 44 + 46;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(that.diydata.diy.is_has_location && that.showFixedSearchBar) {\r\n\t\t\t\t\t\tdtop = 44 + 52;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tscrollTop = Math.ceil(scrollTop + dtop);\r\n\t\t\t\t\tif(scrollTop >= that.goodsTabOffsetTop) {\r\n\t\t\t\t\t\tif(that.diydata.diy.is_has_location && that.showFixedSearchBar) {\r\n\t\t\t\t\t\t\tthat.goodsTabFixed = 2;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif(that.util.isWeixin()) {\r\n\t\t\t\t\t\t\t\tthat.goodsTabFixed = 1;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.goodsTabFixed = 3;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.goodsTabFixed = 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(!that.scrollFromClickTab) {\r\n\t\t\t\t\t\tvar goodsTabHeights = that.goodsTabHeights;\r\n\t\t\t\t\t\tvar length = goodsTabHeights.length;\r\n\t\t\t\t\t\tfor(var i = 0; i < length; i++) {\r\n\t\t\t\t\t\t\tif(goodsTabHeights[i+1]) {\r\n\t\t\t\t\t\t\t\tif(scrollTop < goodsTabHeights[i] ) {\r\n\t\t\t\t\t\t\t\t\tthat.goodsTabActive = i;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t} else if(scrollTop >= goodsTabHeights[i] && scrollTop < goodsTabHeights[i+1]) {\r\n\t\t\t\t\t\t\t\t\tthat.goodsTabActive = i + 1;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.goodsTabActive = i;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(that.diy.is_has_storesTab == 1) {\r\n\t\t\t\t\tvar dtop = 44;\r\n\t\t\t\t\tif(!that.util.isWeixin()) {\r\n\t\t\t\t\t\tdtop = 44 + 46;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(that.diydata.diy.is_has_location && that.showFixedSearchBar) {\r\n\t\t\t\t\t\tdtop = 44 + 52;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tscrollTop = Math.ceil(scrollTop + dtop);\r\n\t\t\t\t\tif(scrollTop >= that.storesTabOffsetTop) {\r\n\t\t\t\t\t\tif(that.diydata.diy.is_has_location && that.showFixedSearchBar) {\r\n\t\t\t\t\t\t\tthat.storesTabFixed = 2;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif(that.util.isWeixin()) {\r\n\t\t\t\t\t\t\t\tthat.storesTabFixed = 1;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.storesTabFixed = 3;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.storesTabFixed = 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(!that.scrollFromClickTab) {\r\n\t\t\t\t\t\tvar storesTabHeights = that.storesTabHeights;\r\n\t\t\t\t\t\tvar length = storesTabHeights.length;\r\n\t\t\t\t\t\tfor(var i = 0; i < length; i++) {\r\n\t\t\t\t\t\t\tif(storesTabHeights[i+1]) {\r\n\t\t\t\t\t\t\t\tif(scrollTop < storesTabHeights[i] ) {\r\n\t\t\t\t\t\t\t\t\tthat.storesTabActive = i;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t} else if(scrollTop >= storesTabHeights[i] && scrollTop < storesTabHeights[i+1]) {\r\n\t\t\t\t\t\t\t\t\tthat.storesTabActive = i + 1;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.storesTabActive = i;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthat.scrollFromClickTab = false;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/diy/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"diy\"}},[(_vm.followShow)?_c('follow',{attrs:{\"follow\":_vm.follow},on:{\"changeStatus\":_vm.onChangeFollowStatus}}):_vm._e(),_vm._v(\" \"),(!_vm.isWeixin)?_c('public-header',{attrs:{\"title\":_vm.title}}):_vm._e(),_vm._v(\" \"),(_vm.menufooter)?_c('public-footer',{attrs:{\"menufooter\":_vm.menufooter}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"container\",style:(_vm.styleContent)},[_c('diy',{attrs:{\"diydata\":_vm.diydata,\"preLoading\":_vm.showPreLoading,\"getLocationFail\":_vm.getLocationFail,\"showFixedSearchBar\":_vm.showFixedSearchBar,\"goodsTabActive\":_vm.goodsTabActive,\"goodsTabFixed\":_vm.goodsTabFixed,\"storesTabActive\":_vm.storesTabActive,\"storesTabFixed\":_vm.storesTabFixed},on:{\"onToggleDiscount\":_vm.onToggleDiscount,\"onToggleStoresTabDiscount\":_vm.onToggleStoresTabDiscount,\"onChangeStoreExtra\":_vm.onChangeStoreExtra,\"onStoreOrderby\":_vm.onStoreOrderby,\"onGetStore\":_vm.onGetStore,\"onCloseRedpacket\":_vm.onCloseRedpacket,\"onCloseGuide\":_vm.onCloseGuide,\"onGetInformation\":_vm.onGetInformation,\"onToggleInformation\":_vm.onToggleInformation,\"onGetHaodianStore\":_vm.onGetHaodianStore,\"onChangeHaodianExtra\":_vm.onChangeHaodianExtra,\"onClickHaodianParentCategory\":_vm.onClickHaodianParentCategory,\"onClickHaodianChildCategory\":_vm.onClickHaodianChildCategory,\"onHaodianCategoryConfirm\":_vm.onHaodianCategoryConfirm,\"onToggleService\":_vm.onToggleService,\"onToggleGoodsTab\":_vm.onToggleGoodsTab,\"onToggleStoresTab\":_vm.onToggleStoresTab,\"onChangeStoreCategory\":_vm.onChangeStoreCategory}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4c1552e9\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/diy/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4c1552e9\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4c1552e9\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/diy/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}