{"version":3,"sources":["webpack:///./src/pages/paotui/controller/order.js","webpack:///src/pages/paotui/index.vue","webpack:///./src/pages/paotui/index.vue?eab5","webpack:///./src/pages/paotui/index.vue"],"names":["changeOrderStatus","options","type","typeInfo","delivery_assign","tip","success_status","direct_transfer_refuse","reply","direct_transfer_agree","delivery_instore","delivery_success","wx_notice","orderStatusChangeTips","url","params","data","id","order","code","_deliveryerOrderTabType","confirm","success","message","vue","util","$toast","from","transfer_delivery_status","deliveryer_id","transfer_deliveryer_id","delivery_status","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","records","index","splice","indexOf","orderTabs","getStorage","length","tabs","concat","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default","codeShow","value","orderIndex","fail","result","jspost","__WEBPACK_IMPORTED_MODULE_2__router__","push","getUrl","path","query","order_id","order_status","status","components","publicHeader","header","publicFooter","footer","countDown","tabActive","status_cn","num","filter","items","isRefresh","showPreLoading","page","psize","loading","finished","empty","deliveryer","can_collect_order","verification_code","config","failedTips","show","tips","btnText","link","position","menufooter","methods","onChangeStatus","title","this","onLoad","force","that","Object","funcCommon","recordsName","onChangeOrderStatus","onDetail","$router","onPullDownRefresh","mounted","setInterval","auto_refresh","imap","icloudapi","pages_paotui","render","_vm","_h","$createElement","_c","_self","attrs","_v","staticClass","color","title-active-color","title-inactive-color","line-width","line-height","offset-top","sticky","swipeable","on","change","model","callback","$$v","expression","_l","item","key","slot","_s","_e","refresh","$event","src","alt","work_status","is_errander","offset","immediate-check","load","$set","click","store2deliveryer_distance","store2user_distance","deliveryer_total_fee","delivery_collect_type_cn","delivery_overtime","endTime","delivery_overtime_start","startTime","goods_name","order_type","buy_address","accept_address","note","addtime_cn","delivery_time","jsTel","accept_mobile","is_pay","pay_type","show-cancel-button","confirmButtonText","cancel","placeholder","input-align","readonly","staticRenderFns","Component","__webpack_require__","normalizeComponent","paotui","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.aaed6c079d0ab8d32f33.js","sourcesContent":["import router from '@/router'\r\n\r\nfunction orderStatusChangeTips(type) {\r\n\tvar types = {\r\n\t\tdelivery_assign: {\r\n\t\t\ttip: '确定抢单吗',\r\n\t\t\tsuccess_status: 2\r\n\t\t},\r\n\t\tdirect_transfer_refuse: {\r\n\t\t\ttip: '确定拒绝转单吗',\r\n\t\t\tsuccess_status: 3,\r\n\t\t\treply: 'refuse'\r\n\t\t},\r\n\t\tdirect_transfer_agree: {\r\n\t\t\ttip: '确定接受转单吗',\r\n\t\t\tsuccess_status: 2,\r\n\t\t\treply: 'agree'\r\n\t\t},\r\n\t\tdelivery_instore: {\r\n\t\t\ttip: '确定已取货吗',\r\n\t\t\tsuccess_status: 3\r\n\t\t},\r\n\t\tdelivery_success: {\r\n\t\t\ttip: '确认已送达吗',\r\n\t\t\tsuccess_status: 4\r\n\t\t},\r\n\t\twx_notice: {\r\n\t\t\ttip: '确定通知下单人你已到达送餐地址吗',\r\n\t\t\tsuccess_status: 0\r\n\t\t}\r\n\t}\r\n\treturn types[type];\r\n};\r\n\r\nfunction changeOrderStatus(options) {\r\n\tvar type = options.type;\r\n\tif(type == 'delivery_transfer' || type == 'direct_transfer' || type == 'cancel') {\r\n\t\trouter.push(options.vue.util.getUrl({path: '/pages/paotui/op', query: {order_id: options.order.id, type: type, order_status: options.order.status}}));\r\n\t\treturn;\r\n\t}\r\n\tvar typeInfo = orderStatusChangeTips(type);\r\n\tvar success_status = typeInfo.success_status;\r\n\tif(type == 'direct_transfer_refuse' || type == 'direct_transfer_agree') {\r\n\t\ttype = 'direct_transfer_reply';\r\n\t}\r\n\tvar url = 'delivery/order/errander/status';\r\n\tif(type == 'wx_notice') {\r\n\t\turl = 'delivery/order/errander/notice';\r\n\t}\r\n\r\n\tvar params = {\r\n\t\turl: url,\r\n\t\tdata: {\r\n\t\t\tid: options.order.id,\r\n\t\t\ttype: type,\r\n\t\t\treply: typeInfo.reply || '',\r\n\t\t\tcode: options.code,\r\n\t\t\t_deliveryerOrderTabType: 'errander',\r\n\t\t},\r\n\t\tconfirm: options.code ? '' : typeInfo.tip,\r\n\t\tsuccess: function(message) {\r\n\t\t\toptions.vue.util.$toast(message);\r\n\t\t\tif(type == 'wx_notice') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(options.from == 'detail') {\r\n\t\t\t\tif(type == 'direct_transfer_reply') {\r\n\t\t\t\t\toptions.vue.order.transfer_delivery_status = success_status;\r\n\t\t\t\t\tif(typeInfo.reply == 'agree') {\r\n\t\t\t\t\t\toptions.vue.order.deliveryer_id = options.vue.order.transfer_deliveryer_id;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\toptions.vue.order.delivery_status = success_status;\r\n\t\t\t\t}\r\n\t\t\t\toptions.vue.order = Object.assign({}, options.vue.order);\r\n\t\t\t} else {\r\n\t\t\t\tif(typeInfo.reply == 'agree') {\r\n\t\t\t\t\toptions.vue.records.data[options.index].transfer_delivery_status = success_status;\r\n\t\t\t\t} else if(typeInfo.reply == 'refuse') {\r\n\t\t\t\t\toptions.vue.records.data.splice(options.index, 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar types = ['delivery_assign', 'delivery_instore', 'delivery_success'];\r\n\t\t\t\t\tif(types.indexOf(type) != -1) {\r\n\t\t\t\t\t\toptions.vue.records.data.splice(options.index, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar orderTabs = options.vue.util.getStorage('orderTabs');\r\n\t\t\t\tif(orderTabs && orderTabs.length > 0) {\r\n\t\t\t\t\toptions.vue.tabs = [...orderTabs];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(options.code) {\r\n\t\t\t\toptions.vue.code = Object.assign({}, {codeShow: false, value: '', orderIndex: -1});\r\n\t\t\t}\r\n\t\t},\r\n\t\tfail: function(result) {\r\n\t\t\toptions.vue.util.$toast(result.message);\r\n\t\t\tif(options.code) {\r\n\t\t\t\toptions.vue.code = Object.assign({}, {codeShow: false, value: '', orderIndex: -1});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\toptions.vue.util.jspost(params);\r\n};\r\n\r\nexport {\r\n\torderStatusChangeTips,\r\n\tchangeOrderStatus,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/paotui/controller/order.js","<template>\r\n\t<div id=\"paotui-list\">\r\n\t\t<public-header title=\"跑腿订单列表\"></public-header>\r\n\t\t<public-footer :showPreLoading=\"showPreLoading\" :menufooter=\"menufooter\"></public-footer>\r\n\t\t<div class=\"content\">\r\n\t\t\t<van-tabs\r\n\t\t\t\t\tv-model=\"tabActive\"\r\n\t\t\t\t\t@change=\"onChangeStatus\"\r\n\t\t\t\t\tcolor=\"#0EC3B3\"\r\n\t\t\t\t\ttitle-active-color=\"#0EC3B3\"\r\n\t\t\t\t\ttitle-inactive-color=\"#000\"\r\n\t\t\t\t\t:line-width=\"80\"\r\n\t\t\t\t\t:line-height=\"2\"\r\n\t\t\t\t\t:offset-top=\"46\"\r\n\t\t\t\t\tsticky\r\n\t\t\t\t\tswipeable\r\n\t\t\t>\r\n\t\t\t\t<van-tab v-for=\"(item, index) in tabs\" :key=\"index\">\r\n\t\t\t\t\t<div slot=\"title\" class=\"tab-title\">\r\n\t\t\t\t\t\t{{item.status_cn}} <span class=\"order-num\" v-if=\"item.num > 0\">{{item.num}}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<van-pull-refresh v-model=\"isRefresh\" @refresh=\"onPullDownRefresh()\">\r\n\t\t\t\t\t\t<van-list\r\n\t\t\t\t\t\t\t\tv-model=\"records.loading\"\r\n\t\t\t\t\t\t\t\t:finished=\"records.finished\"\r\n\t\t\t\t\t\t\t\t@load=\"onLoad\"\r\n\t\t\t\t\t\t\t\t:offset=\"100\"\r\n\t\t\t\t\t\t\t\t:immediate-check=\"false\"\r\n\t\t\t\t\t\t\t\tv-if=\"!records.empty\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div class=\"order-item\" v-for=\"(item, index) in records.data\" :key=\"item.id\">\r\n\t\t\t\t\t\t\t\t<div class=\"van-hairline--bottom flex-lr padding-15-tb padding-10-lr\" @click=\"onDetail(item.id)\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex\">\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"c-primary font-500 font-18\">#{{item.id}}</span>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"distance flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"img-wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img class=\"w-100\" src=\"static/img/start.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"text\">-{{item.store2deliveryer_distance}}km-</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"img-wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img class=\"w-100\" src=\"static/img/ds.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"text\">-{{item.store2user_distance}}km-</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"img-wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img class=\"w-100\" src=\"static/img/end.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<span class=\"c-danger font-15 font-500\">¥ {{item.deliveryer_total_fee}}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"padding-10-lr margin-15-t\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-lr\">\r\n\t\t\t\t\t\t\t\t\t\t<ul class=\"order-tags\">\r\n\t\t\t\t\t\t\t\t\t\t\t<li class=\"handle-type\">{{item.delivery_collect_type_cn}}</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li v-if=\"0\">保温服务</li>\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"c-danger flex\" v-if=\"item.status == 2 && item.delivery_status != 1\">\r\n\t\t\t\t\t\t\t\t\t\t\t<template v-if=\"item.delivery_overtime > 0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t距超时<count-down :endTime=\"item.delivery_overtime\" class=\"c-danger\"></count-down>\r\n\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t<template v-else-if=\"item.delivery_overtime_start > 0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t已超时<count-down :startTime=\"item.delivery_overtime_start\" class=\"c-danger\"></count-down>\r\n\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<ul class=\"address padding-10-lr\" @click=\"onDetail(item.id)\">\r\n\t\t\t\t\t\t\t\t\t<li class=\"flex-lr margin-15-t\">\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"c-primary font-15\">物:</span>\r\n\t\t\t\t\t\t\t\t\t\t<ul class=\"address-text\">\r\n\t\t\t\t\t\t\t\t\t\t\t<li class=\"font-15 font-500\">{{item.goods_name}}</li>\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t<li class=\"flex-lr margin-15-t\">\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"c-info font-15\">{{item.order_type == 'buy' ? '买' : '取'}}:</span>\r\n\t\t\t\t\t\t\t\t\t\t<ul class=\"address-text\">\r\n\t\t\t\t\t\t\t\t\t\t\t<li class=\"font-15 font-500\">{{item.buy_address}}</li>\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t<li class=\"flex-lr margin-15-t\">\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"c-primary font-15\">送:</span>\r\n\t\t\t\t\t\t\t\t\t\t<ul class=\"address-text\">\r\n\t\t\t\t\t\t\t\t\t\t\t<li class=\"font-15 font-500 \">{{item.accept_address}}</li>\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t<div class=\"note\" v-if=\"item.note\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"note-title\">备注:</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"note-text\">{{item.note}}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<ul class=\"time padding-10-lr margin-15-t flex-lr\">\r\n\t\t\t\t\t\t\t\t\t<li>{{item.addtime_cn}}下单</li>\r\n\t\t\t\t\t\t\t\t\t<li>配送 {{item.delivery_time}}</li>\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t<ul class=\"btn-group margin-15-t padding-10-lr flex-lr\">\r\n\t\t\t\t\t\t\t\t\t<template v-if=\"item.delivery_status == 1\">\r\n\t\t\t\t\t\t\t\t\t\t<li class=\"btn-item bg-warning\" @click=\"onChangeOrderStatus(index, 'delivery_assign')\">抢单</li>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t<template v-else-if=\"item.delivery_status == 2 || item.delivery_status == 3\">\r\n\t\t\t\t\t\t\t\t\t\t<template v-if=\"item.transfer_delivery_status == 1\">\r\n\t\t\t\t\t\t\t\t\t\t\t<li class=\"btn-item bg-danger\" @click=\"onChangeOrderStatus(index, 'direct_transfer_refuse')\">拒绝转单</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li class=\"btn-item bg-primary\" @click=\"onChangeOrderStatus(index, 'direct_transfer_agree')\">接受转单</li>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t\t\t\t<li class=\"btn-item bg-warning\" v-if=\"item.accept_mobile\" @click=\"util.jsTel(item.accept_mobile)\">联系顾客</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li class=\"btn-item bg-primary\" @click=\"onChangeOrderStatus(index, 'delivery_instore')\" v-if=\"item.delivery_status == 2\">确认取货</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li class=\"btn-item bg-primary\" @click=\"onChangeOrderStatus(index, 'delivery_success')\" v-else>确认送达</li>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t<div v-if=\"item.is_pay == 1\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"have-pay\" v-if=\"item.pay_type != 'delivery'\"></div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"delivery-pay\" v-else-if=\"item.pay_type == 'delivery'\"></div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</van-list>\r\n\t\t\t\t\t\t<div class=\"no-data\" v-else>\r\n\t\t\t\t\t\t\t<img src=\"static/img/order_no_con.png\" alt=\"\">\r\n\t\t\t\t\t\t\t<template v-if=\"filter.items.status == 1\">\r\n\t\t\t\t\t\t\t\t<template v-if=\"deliveryer.work_status == 1\">\r\n\t\t\t\t\t\t\t\t\t<template v-if=\"deliveryer.is_errander == 1\">\r\n\t\t\t\t\t\t\t\t\t\t<template v-if=\"!can_collect_order\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p >当前调度模式不允许抢单,请等待管理员或系统派单</p>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t\t\t\t<p>暂无待抢的跑腿订单</p>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t\t\t<p>您没有跑腿单配送权限，请联系管理员</p>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t\t<p>您当前处于收工状态,不能抢单</p>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t<p>暂无符合条件的跑腿订单</p>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</van-pull-refresh>\r\n\t\t\t\t</van-tab>\r\n\t\t\t</van-tabs>\r\n\t\t\t<failed-tips :failedTips=\"failedTips\" v-if=\"failedTips.show\"></failed-tips>\r\n\t\t</div>\r\n\t\t<van-dialog\r\n\t\t\tv-model=\"code.codeShow\"\r\n\t\t\tshow-cancel-button\r\n\t\t\tconfirmButtonText=\"确认送达\"\r\n\t\t\t@confirm=\"onChangeOrderStatus(code.orderIndex, 'delivery_success')\"\r\n\t\t\t@cancel=\"code.codeShow = false\"\r\n\t\t>\t\r\n\t\t\t<van-field\r\n\t\t\t\tplaceholder=\"输入收货码\"\r\n\t\t\t\tinput-align=\"center\"\r\n\t\t\t\treadonly\r\n\t\t\t/>\r\n\t\t\t<van-field\r\n\t\t\t\tv-model=\"code.value\"\r\n\t\t\t\tplaceholder=\"请输入收货码\"\r\n\t\t\t/>\r\n\t\t</van-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport publicHeader from \"@/components/header\"\r\n\timport publicFooter from \"@/components/footer\"\r\n\timport countDown from \"@/components/countDown\"\r\n\timport {getRecords} from \"@/controller/funcCommon\"\r\n\timport {changeOrderStatus} from \"./controller/order.js\"\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tpublicHeader,\r\n\t\t\tpublicFooter,\r\n\t\t\tcountDown\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttabActive: 0,\r\n\t\t\t\ttabs: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstatus: 1,\r\n\t\t\t\t\t\tstatus_cn: '待抢',\r\n\t\t\t\t\t\tnum: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstatus: 2,\r\n\t\t\t\t\t\tstatus_cn: '待取货',\r\n\t\t\t\t\t\tnum: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstatus: 3,\r\n\t\t\t\t\t\tstatus_cn: '配送中',\r\n\t\t\t\t\t\tnum: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstatus: 4,\r\n\t\t\t\t\t\tstatus_cn: '已完成',\r\n\t\t\t\t\t\tnum: 0,\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tfilter: {\r\n\t\t\t\t\titems: {\r\n\t\t\t\t\t\tstatus: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tisRefresh: false,\r\n\t\t\t\tshowPreLoading: true,\r\n\t\t\t\trecords:{\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tpsize: 15,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tfinished: false,\r\n\t\t\t\t\tempty: false,\r\n\t\t\t\t\tdata:[]\r\n\t\t\t\t},\r\n\t\t\t\tdeliveryer: {},\r\n\t\t\t\tcan_collect_order: false,\r\n\t\t\t\tverification_code: false,\r\n\t\t\t\tconfig: {},\r\n\t\t\t\tcode: {\r\n\t\t\t\t\tcodeShow: false,\r\n\t\t\t\t\tvalue: '',\r\n\t\t\t\t\torderIndex: -1\r\n\t\t\t\t},\r\n\t\t\t\tfailedTips: {\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\ttype: 'message',\r\n\t\t\t\t\ttips: '您没有跑腿单的配送权限，请联系平台管理员',\r\n\t\t\t\t\tbtnText: '',\r\n\t\t\t\t\tlink: '',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t},\r\n\t\t\t\tmenufooter: {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonChangeStatus(index, title) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.filter.items.status = that.tabs[index]['status'];\r\n\t\t\t\tthis.onLoad(true);\r\n\t\t\t},\r\n\t\t\tonLoad(force){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tgetRecords({\r\n\t\t\t\t\tvue: that,\r\n\t\t\t\t\tforce: force,\r\n\t\t\t\t\turl: 'delivery/order/errander/list',\r\n\t\t\t\t\trecordsName: 'orders',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tmenufooter: 1,\r\n\t\t\t\t\t\t_deliveryerOrderTabType: 'errander',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(result) {\r\n\t\t\t\t\t\tthat.deliveryer = result.deliveryer;\r\n\t\t\t\t\t\tthat.can_collect_order = result.can_collect_order;\r\n\t\t\t\t\t\tthat.verification_code = result.verification_code;\r\n\t\t\t\t\t\tthat.config = result.config;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function() {\r\n\t\t\t\t\t\tthat.failedTips.show = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tonChangeOrderStatus(index, type) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(type == 'delivery_success' && that.verification_code == 1) {\r\n\t\t\t\t\tthat.code.codeShow = true;\r\n\t\t\t\t\tthat.code.orderIndex = index;\r\n\t\t\t\t\tif(!that.code.value) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tchangeOrderStatus({\r\n\t\t\t\t\tvue: that,\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\tindex: index,\r\n\t\t\t\t\tfrom: 'list',\r\n\t\t\t\t\torder: that.records.data[index],\r\n\t\t\t\t\tcode: that.code.value\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tonDetail(id) {\r\n\t\t\t\tif(this.filter.items.status == 1) {\r\n\t\t\t\t\tthis.util.$toast('抢单后才能查看详情', '', 1000);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$router.push(this.util.getUrl({path: 'pages/paotui/detail', query: {id: id}}));\r\n\t\t\t},\r\n\r\n\t\t\tonPullDownRefresh() {\r\n\t\t\t\tthis.onLoad(true);\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tvar that = this;\r\n\t\t\tthat.onLoad();\r\n\t\t\tsetInterval(function() {\r\n\t\t\t\tif(that.filter.items.status == 1 && that.config.auto_refresh == 1) {\r\n\t\t\t\t\tthat.onLoad(true);\r\n\t\t\t\t}\r\n\t\t\t}, 15000);\r\n\r\n\t\t\tthis.util.imap();\r\n\t\t\tthis.util.icloudapi({\r\n\t\t\t\tvue: that,\r\n\t\t\t\tpage: 'orderPaotui'\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#paotui-list .tab-title{\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t#paotui-list .tab-title .order-num{\r\n\t\tdisplay: inline-flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tmin-width: 14px;\r\n\t\theight: 14px;\r\n\t\tpadding: 0 5px;\r\n\t\tmargin-left: 3px;\r\n\t\tborder-radius: 14px;\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #0EC3B3;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\t#paotui-list .order-item{\r\n\t\tbackground-color: #fff;\r\n\t\tfont-size: 14px;\r\n\t\tmargin-top: 10px;\r\n\t\tpadding-bottom: 15px;\r\n\t}\r\n\t#paotui-list .order-item:first-child{\r\n\t\tmargin-top: 0px;\r\n\t}\r\n\t#paotui-list .order-item .distance{\r\n\t\tmargin-left: 20px;\r\n\t}\r\n\t#paotui-list .order-item .distance .img-wrap{\r\n\t\twidth: 25px;\r\n\t\tfont-size: 0px;\r\n\t}\r\n\t#paotui-list .order-item .order-tags{\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\talign-items: center;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\t#paotui-list .order-item .order-tags li{\r\n\t\tpadding: 3px 5px;\r\n\t\tborder-radius: 3px;\r\n\t\tmargin-right: 5px;\r\n\t\tcolor: #FF931E;\r\n\t\tborder: 1px solid #FF931E;\r\n\t}\r\n\t#paotui-list .order-item .order-tags .handle-type{\r\n\t\tbackground-color: #FF931E;\r\n\t\tcolor: #fff;\r\n\t\tfont-style: italic;\r\n\t\tpadding: 3px 7px 3px 3px;\r\n\t}\r\n\t#paotui-list .order-item .address-text{\r\n\t\tflex: 1;\r\n\t\tpadding-left: 15px;\r\n\t}\r\n\t#paotui-list .order-item .note{\r\n\t\tmargin: 15px 10px 0 10px;\r\n\t\tpadding: 10px;\r\n\t\tborder-radius: 3px;\r\n\t\tbackground-color: #DFFBF9;\r\n\t\tcolor: #16C5B6;\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-start;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\t#paotui-list .order-item .note .note-text{\r\n\t\tflex: 1;\r\n\t\tpadding-left: 10px;\r\n\t\tline-height: 1.2;\r\n\t}\r\n\t#paotui-list .order-item .time li{\r\n\t\tcolor: #1AB5F5;\r\n\t\tborder: 1px solid #1AB5F5;\r\n\t\tfont-size: 12px;\r\n\t\tpadding: 2px 5px;\r\n\t\tborder-radius: 3px;\r\n\t}\r\n\t#paotui-list .order-item .btn-group .btn-item{\r\n\t\tflex: 1;\r\n\t\theight: 44px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tborder-radius: 5px;\r\n\t\tfont-size: 15px;\r\n\t}\r\n\t#paotui-list .order-item .btn-group .btn-item:nth-child(2){\r\n\t\tmargin-left: 10px;\r\n\t}\r\n\t#paotui-list .order-item .have-pay{\r\n\t\tposition: absolute;\r\n\t\twidth: 100px;\r\n\t\theight: 50px;\r\n\t\tleft: 50%;\r\n\t\tmargin-left: -50px;\r\n\t\ttop: 100px;\r\n\t\tbackground: url(\"http://1.duoxunwl.com/addons/we7_wmall/static/img/have-pay.png\") no-repeat center center;\r\n\t\tbackground-size: 100% 100%;\r\n\t}\r\n\t#paotui-list .order-item .delivery-pay{\r\n\t\tposition: absolute;\r\n\t\twidth: 110px;\r\n\t\theight: 70px;\r\n\t\tleft: 50%;\r\n\t\tmargin-left: -50px;\r\n\t\ttop: 100px;\r\n\t\tbackground: url(\"http://1.duoxunwl.com/addons/we7_wmall/static/img/delivery-pay.png\") no-repeat center center;\r\n\t\tbackground-size: 100% 100%;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/paotui/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"paotui-list\"}},[_c('public-header',{attrs:{\"title\":\"跑腿订单列表\"}}),_vm._v(\" \"),_c('public-footer',{attrs:{\"showPreLoading\":_vm.showPreLoading,\"menufooter\":_vm.menufooter}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('van-tabs',{attrs:{\"color\":\"#0EC3B3\",\"title-active-color\":\"#0EC3B3\",\"title-inactive-color\":\"#000\",\"line-width\":80,\"line-height\":2,\"offset-top\":46,\"sticky\":\"\",\"swipeable\":\"\"},on:{\"change\":_vm.onChangeStatus},model:{value:(_vm.tabActive),callback:function ($$v) {_vm.tabActive=$$v},expression:\"tabActive\"}},_vm._l((_vm.tabs),function(item,index){return _c('van-tab',{key:index},[_c('div',{staticClass:\"tab-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(item.status_cn)+\" \"),(item.num > 0)?_c('span',{staticClass:\"order-num\"},[_vm._v(_vm._s(item.num))]):_vm._e()]),_vm._v(\" \"),_c('van-pull-refresh',{on:{\"refresh\":function($event){_vm.onPullDownRefresh()}},model:{value:(_vm.isRefresh),callback:function ($$v) {_vm.isRefresh=$$v},expression:\"isRefresh\"}},[(!_vm.records.empty)?_c('van-list',{attrs:{\"finished\":_vm.records.finished,\"offset\":100,\"immediate-check\":false},on:{\"load\":_vm.onLoad},model:{value:(_vm.records.loading),callback:function ($$v) {_vm.$set(_vm.records, \"loading\", $$v)},expression:\"records.loading\"}},_vm._l((_vm.records.data),function(item,index){return _c('div',{key:item.id,staticClass:\"order-item\"},[_c('div',{staticClass:\"van-hairline--bottom flex-lr padding-15-tb padding-10-lr\",on:{\"click\":function($event){_vm.onDetail(item.id)}}},[_c('div',{staticClass:\"flex\"},[_c('span',{staticClass:\"c-primary font-500 font-18\"},[_vm._v(\"#\"+_vm._s(item.id))]),_vm._v(\" \"),_c('div',{staticClass:\"distance flex\"},[_c('div',{staticClass:\"img-wrap\"},[_c('img',{staticClass:\"w-100\",attrs:{\"src\":\"static/img/start.png\",\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[_vm._v(\"-\"+_vm._s(item.store2deliveryer_distance)+\"km-\")]),_vm._v(\" \"),_c('div',{staticClass:\"img-wrap\"},[_c('img',{staticClass:\"w-100\",attrs:{\"src\":\"static/img/ds.png\",\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[_vm._v(\"-\"+_vm._s(item.store2user_distance)+\"km-\")]),_vm._v(\" \"),_c('div',{staticClass:\"img-wrap\"},[_c('img',{staticClass:\"w-100\",attrs:{\"src\":\"static/img/end.png\",\"alt\":\"\"}})])])]),_vm._v(\" \"),_c('span',{staticClass:\"c-danger font-15 font-500\"},[_vm._v(\"¥ \"+_vm._s(item.deliveryer_total_fee))])]),_vm._v(\" \"),_c('div',{staticClass:\"padding-10-lr margin-15-t\"},[_c('div',{staticClass:\"flex-lr\"},[_c('ul',{staticClass:\"order-tags\"},[_c('li',{staticClass:\"handle-type\"},[_vm._v(_vm._s(item.delivery_collect_type_cn))]),_vm._v(\" \"),(0)?_c('li',[_vm._v(\"保温服务\")]):_vm._e()]),_vm._v(\" \"),(item.status == 2 && item.delivery_status != 1)?_c('div',{staticClass:\"c-danger flex\"},[(item.delivery_overtime > 0)?[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t距超时\"),_c('count-down',{staticClass:\"c-danger\",attrs:{\"endTime\":item.delivery_overtime}})]:(item.delivery_overtime_start > 0)?[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t已超时\"),_c('count-down',{staticClass:\"c-danger\",attrs:{\"startTime\":item.delivery_overtime_start}})]:_vm._e()],2):_vm._e()])]),_vm._v(\" \"),_c('ul',{staticClass:\"address padding-10-lr\",on:{\"click\":function($event){_vm.onDetail(item.id)}}},[_c('li',{staticClass:\"flex-lr margin-15-t\"},[_c('span',{staticClass:\"c-primary font-15\"},[_vm._v(\"物:\")]),_vm._v(\" \"),_c('ul',{staticClass:\"address-text\"},[_c('li',{staticClass:\"font-15 font-500\"},[_vm._v(_vm._s(item.goods_name))])])]),_vm._v(\" \"),_c('li',{staticClass:\"flex-lr margin-15-t\"},[_c('span',{staticClass:\"c-info font-15\"},[_vm._v(_vm._s(item.order_type == 'buy' ? '买' : '取')+\":\")]),_vm._v(\" \"),_c('ul',{staticClass:\"address-text\"},[_c('li',{staticClass:\"font-15 font-500\"},[_vm._v(_vm._s(item.buy_address))])])]),_vm._v(\" \"),_c('li',{staticClass:\"flex-lr margin-15-t\"},[_c('span',{staticClass:\"c-primary font-15\"},[_vm._v(\"送:\")]),_vm._v(\" \"),_c('ul',{staticClass:\"address-text\"},[_c('li',{staticClass:\"font-15 font-500 \"},[_vm._v(_vm._s(item.accept_address))])])])]),_vm._v(\" \"),(item.note)?_c('div',{staticClass:\"note\"},[_c('div',{staticClass:\"note-title\"},[_vm._v(\"备注:\")]),_vm._v(\" \"),_c('div',{staticClass:\"note-text\"},[_vm._v(_vm._s(item.note))])]):_vm._e(),_vm._v(\" \"),_c('ul',{staticClass:\"time padding-10-lr margin-15-t flex-lr\"},[_c('li',[_vm._v(_vm._s(item.addtime_cn)+\"下单\")]),_vm._v(\" \"),_c('li',[_vm._v(\"配送 \"+_vm._s(item.delivery_time))])]),_vm._v(\" \"),_c('ul',{staticClass:\"btn-group margin-15-t padding-10-lr flex-lr\"},[(item.delivery_status == 1)?[_c('li',{staticClass:\"btn-item bg-warning\",on:{\"click\":function($event){_vm.onChangeOrderStatus(index, 'delivery_assign')}}},[_vm._v(\"抢单\")])]:(item.delivery_status == 2 || item.delivery_status == 3)?[(item.transfer_delivery_status == 1)?[_c('li',{staticClass:\"btn-item bg-danger\",on:{\"click\":function($event){_vm.onChangeOrderStatus(index, 'direct_transfer_refuse')}}},[_vm._v(\"拒绝转单\")]),_vm._v(\" \"),_c('li',{staticClass:\"btn-item bg-primary\",on:{\"click\":function($event){_vm.onChangeOrderStatus(index, 'direct_transfer_agree')}}},[_vm._v(\"接受转单\")])]:[(item.accept_mobile)?_c('li',{staticClass:\"btn-item bg-warning\",on:{\"click\":function($event){_vm.util.jsTel(item.accept_mobile)}}},[_vm._v(\"联系顾客\")]):_vm._e(),_vm._v(\" \"),(item.delivery_status == 2)?_c('li',{staticClass:\"btn-item bg-primary\",on:{\"click\":function($event){_vm.onChangeOrderStatus(index, 'delivery_instore')}}},[_vm._v(\"确认取货\")]):_c('li',{staticClass:\"btn-item bg-primary\",on:{\"click\":function($event){_vm.onChangeOrderStatus(index, 'delivery_success')}}},[_vm._v(\"确认送达\")])]]:_vm._e()],2),_vm._v(\" \"),(item.is_pay == 1)?_c('div',[(item.pay_type != 'delivery')?_c('div',{staticClass:\"have-pay\"}):(item.pay_type == 'delivery')?_c('div',{staticClass:\"delivery-pay\"}):_vm._e()]):_vm._e()])})):_c('div',{staticClass:\"no-data\"},[_c('img',{attrs:{\"src\":\"static/img/order_no_con.png\",\"alt\":\"\"}}),_vm._v(\" \"),(_vm.filter.items.status == 1)?[(_vm.deliveryer.work_status == 1)?[(_vm.deliveryer.is_errander == 1)?[(!_vm.can_collect_order)?[_c('p',[_vm._v(\"当前调度模式不允许抢单,请等待管理员或系统派单\")])]:[_c('p',[_vm._v(\"暂无待抢的跑腿订单\")])]]:[_c('p',[_vm._v(\"您没有跑腿单配送权限，请联系管理员\")])]]:[_c('p',[_vm._v(\"您当前处于收工状态,不能抢单\")])]]:[_c('p',[_vm._v(\"暂无符合条件的跑腿订单\")])]],2)],1)],1)})),_vm._v(\" \"),(_vm.failedTips.show)?_c('failed-tips',{attrs:{\"failedTips\":_vm.failedTips}}):_vm._e()],1),_vm._v(\" \"),_c('van-dialog',{attrs:{\"show-cancel-button\":\"\",\"confirmButtonText\":\"确认送达\"},on:{\"confirm\":function($event){_vm.onChangeOrderStatus(_vm.code.orderIndex, 'delivery_success')},\"cancel\":function($event){_vm.code.codeShow = false}},model:{value:(_vm.code.codeShow),callback:function ($$v) {_vm.$set(_vm.code, \"codeShow\", $$v)},expression:\"code.codeShow\"}},[_c('van-field',{attrs:{\"placeholder\":\"输入收货码\",\"input-align\":\"center\",\"readonly\":\"\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"placeholder\":\"请输入收货码\"},model:{value:(_vm.code.value),callback:function ($$v) {_vm.$set(_vm.code, \"value\", $$v)},expression:\"code.value\"}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-468a1914\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/paotui/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-468a1914\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-468a1914\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/paotui/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}